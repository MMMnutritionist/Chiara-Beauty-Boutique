<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chiara Beauty Boutique - Prenotazioni</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap');
        
        :root {
            --primary-beige: #E5D2C1;
            --secondary-beige: #F5F0E8;
            --text-brown: #8B6F47;
            --accent-brown: #A0845C;
            --light-beige: #F9F6F1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--secondary-beige) 0%, var(--light-beige) 100%);
            color: var(--text-brown);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 40px 0;
            background: var(--primary-beige);
            margin-bottom: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(139, 111, 71, 0.1);
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background: var(--accent-brown);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Dancing Script', cursive;
            font-size: 24px;
            color: white;
            font-weight: 700;
        }
        
        .header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-brown);
        }
        
        .subtitle {
            font-size: 1.1rem;
            font-weight: 300;
            opacity: 0.8;
        }
        
        .address {
            margin-top: 15px;
            font-size: 1rem;
            font-weight: 400;
            background: rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            text-decoration: none;
            color: var(--text-brown);
            transition: all 0.3s ease;
        }
        
        .address:hover {
            background: rgba(255,255,255,0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 111, 71, 0.2);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .service-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(139, 111, 71, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(139, 111, 71, 0.15);
            border-color: var(--primary-beige);
        }
        
        .service-card.selected {
            border-color: var(--accent-brown);
            background: linear-gradient(135deg, var(--light-beige) 0%, white 100%);
        }
        
        .service-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--accent-brown);
        }
        
        .service-description {
            font-size: 0.95rem;
            margin-bottom: 20px;
            opacity: 0.8;
            line-height: 1.5;
        }
        
        .service-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--light-beige);
            border-radius: 10px;
        }
        
        .price {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent-brown);
        }
        
        .duration {
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .select-service-text {
            text-align: center;
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--accent-brown);
            font-weight: 500;
        }
        
        .booking-section {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(139, 111, 71, 0.1);
            margin-bottom: 50px;
        }
        
        .booking-title {
            font-size: 2rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
            color: var(--accent-brown);
        }
        
        .selected-service-info {
            background: var(--light-beige);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            display: none;
        }
        
        .selected-service-info.show {
            display: block;
        }
        
        .selected-service-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent-brown);
            margin-bottom: 10px;
        }
        
        .selected-service-details {
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .booking-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        label {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-brown);
        }
        
        input, select {
            padding: 15px;
            border: 2px solid var(--primary-beige);
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            color: var(--text-brown);
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--accent-brown);
        }
        
        .availability-indicator {
            font-size: 0.9rem;
            margin-top: 10px;
            padding: 10px 15px;
            border-radius: 15px;
            text-align: center;
            font-weight: 500;
        }
        
        .available {
            background: #d4edda;
            color: #155724;
        }
        
        .limited {
            background: #fff3cd;
            color: #856404;
        }
        
        .unavailable {
            background: #f8d7da;
            color: #721c24;
        }
        
        .book-btn {
            background: linear-gradient(135deg, var(--accent-brown) 0%, var(--text-brown) 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .book-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 111, 71, 0.3);
        }
        
        .book-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .no-service-selected {
            text-align: center;
            padding: 40px;
            opacity: 0.6;
        }
        
        .nutritionist-section {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(139, 111, 71, 0.1);
            margin-top: 50px;
            text-align: center;
        }
        
        .nutritionist-title {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--accent-brown);
        }
        
        .nutritionist-description {
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .whatsapp-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: #25D366;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .whatsapp-link:hover {
            background: #20c157;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.3);
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .booking-form {
                grid-template-columns: 1fr;
            }
            
            .service-details {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">CB</div>
            <h1>Chiara Beauty Boutique</h1>
            <p class="subtitle">Centro di Estetica Avanzata</p>
            <a href="https://www.google.com/maps/search/?api=1&query=Via+Roma+133%2C+Nard√≤+LE%2C+Italy" target="_blank" class="address">üìç Via Roma 133, Nard√≤ (Lecce)</a>
        </header>
        
        <div class="services-grid" id="servicesGrid">
            <!-- I servizi verranno generati dinamicamente -->
        </div>
        
        <section class="booking-section">
            <h2 class="booking-title">Prenota il tuo Trattamento</h2>
            
            <div class="selected-service-info" id="selectedServiceInfo">
                <div class="selected-service-name" id="selectedServiceName"></div>
                <div class="selected-service-details" id="selectedServiceDetails"></div>
            </div>
            
            <div class="no-service-selected" id="noServiceSelected">
                <p>üëÜ Seleziona prima un trattamento dall'elenco qui sopra</p>
            </div>
            
            <form class="booking-form" id="mainBookingForm" style="display: none;">
                <div class="form-group">
                    <label for="customerName">Nome *</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label for="customerPhone">Telefono *</label>
                    <input type="tel" id="customerPhone" required>
                </div>
                <div class="form-group">
                    <label for="bookingDate">Data *</label>
                    <input type="date" id="bookingDate" required onchange="updateAvailability()">
                </div>
                <div class="form-group">
                    <label for="bookingTime">Orario *</label>
                    <select id="bookingTime" required onchange="updateAvailability()">
                        <option value="">Seleziona orario</option>
                    </select>
                </div>
                <div class="form-group full-width">
                    <div class="availability-indicator" id="availabilityIndicator"></div>
                </div>
            </form>
            
            <button class="book-btn" id="mainBookBtn" onclick="bookSelectedService()" style="display: none;">
                <i class="fab fa-whatsapp"></i>
                Prenota su WhatsApp
            </button>
        </section>
        
        <section class="nutritionist-section">
            <h2 class="nutritionist-title">Consulenza Nutrizionale</h2>
            <p class="nutritionist-description">
                In qualit√† di nutrizionista, collaboro con il Centro Estetico Chiara Beauty Boutique per offrire un approccio integrato alla cura della persona, che unisce alimentazione equilibrata e trattamenti estetici professionali.
                Per i clienti del centro estetico sono previste offerte dedicate su percorsi nutrizionali personalizzati, studiati per supportare al meglio il raggiungimento dei risultati desiderati.
                Per informazioni o appuntamenti, √® possibile prenotare una consulenza nutrizionale.
            </p>
            <a href="https://wa.me/393001234567?text=Ciao! Sono interessato/a a prenotare una consulenza nutrizionale presso Chiara Beauty Boutique. Potresti fornirmi maggiori informazioni sui percorsi nutrizionali personalizzati?" class="whatsapp-link" target="_blank">
                <i class="fab fa-whatsapp"></i>
                Prenota Consulenza Nutrizionale
            </a>
        </section>
    </div>

    <script>
        // Configurazione servizi
        const services = [
            {
                id: 'antiage',
                title: 'Trattamento Anti-Age Avanzato',
                description: 'Trattamento rigenerante con tecnologie innovative per contrastare i segni del tempo. Combina radiofrequenza, ultrasuoni e sieri anti-age per un effetto lifting naturale.',
                price: 89,
                duration: 60,
                maxBookingsPerSlot: 3
            },
            {
                id: 'hydrafacial',
                title: 'HydraFacial MD',
                description: 'Il trattamento pi√π rivoluzionario per la pulizia profonda del viso. Rimuove le impurit√†, esfolia delicatamente e idrata intensamente la pelle in un unico trattamento.',
                price: 120,
                duration: 45,
                maxBookingsPerSlot: 2
            },
            {
                id: 'microneedling',
                title: 'Microneedling con Sieri Attivi',
                description: 'Stimola il rinnovamento cellulare attraverso micro-perforazioni controllate. Ideale per cicatrici, rughe e texture della pelle. Include applicazione di sieri personalizzati.',
                price: 95,
                duration: 50,
                maxBookingsPerSlot: 3
            },
            {
                id: 'cryotherapy',
                title: 'Crioterapia Localizzata',
                description: 'Trattamento innovativo che utilizza il freddo controllato per tonificare, rassodare e rimodellare specifiche zone del corpo. Effetto immediato e duraturo.',
                price: 75,
                duration: 30,
                maxBookingsPerSlot: 4
            },
            {
                id: 'radiofrequenza',
                title: 'Radiofrequenza Corpo',
                description: 'Tecnologia avanzata per il rimodellamento corporeo e la riduzione della cellulite. Stimola la produzione di collagene per una pelle pi√π tonica ed elastica.',
                price: 80,
                duration: 45,
                maxBookingsPerSlot: 3
            },
            {
                id: 'linfodrenaggio',
                title: 'Linfodrenaggio Pressoterapia',
                description: 'Massaggio meccanico che favorisce il drenaggio linfatico e la circolazione. Perfetto per ridurre gonfiori, ritenzione idrica e migliorare il tono della pelle.',
                price: 60,
                duration: 40,
                maxBookingsPerSlot: 3
            }
        ];

        // Simulazione database prenotazioni (in memoria)
        let bookings = {};
        let selectedService = null;

        // Funzione per selezionare un servizio
        function selectService(serviceId) {
            // Rimuovi selezione precedente
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Seleziona nuovo servizio
            const selectedCard = document.querySelector(`[data-service-id="${serviceId}"]`);
            selectedCard.classList.add('selected');
            
            selectedService = services.find(s => s.id === serviceId);
            
            // Aggiorna UI
            document.getElementById('selectedServiceName').textContent = selectedService.title;
            document.getElementById('selectedServiceDetails').textContent = `‚Ç¨${selectedService.price} ‚Ä¢ ${selectedService.duration} minuti`;
            
            document.getElementById('selectedServiceInfo').classList.add('show');
            document.getElementById('noServiceSelected').style.display = 'none';
            document.getElementById('mainBookingForm').style.display = 'grid';
            document.getElementById('mainBookBtn').style.display = 'flex';
            
            // Reset form e disponibilit√†
            document.getElementById('mainBookingForm').reset();
            document.getElementById('availabilityIndicator').textContent = '';
            document.getElementById('availabilityIndicator').className = 'availability-indicator';
        }

        // Funzione per ottenere la chiave del booking
        function getBookingKey(serviceId, date, time) {
            return `${serviceId}_${date}_${time}`;
        }

        // Funzione per verificare la disponibilit√†
        function checkAvailability() {
            if (!selectedService) return null;
            
            const dateInput = document.getElementById('bookingDate');
            const timeInput = document.getElementById('bookingTime');
            
            if (!dateInput.value || !timeInput.value) return null;
            
            const key = getBookingKey(selectedService.id, dateInput.value, timeInput.value);
            const currentBookings = bookings[key] || 0;
            
            if (currentBookings >= selectedService.maxBookingsPerSlot) {
                return { status: 'unavailable', remaining: 0 };
            } else if (currentBookings >= selectedService.maxBookingsPerSlot - 1) {
                return { status: 'limited', remaining: selectedService.maxBookingsPerSlot - currentBookings };
            } else {
                return { status: 'available', remaining: selectedService.maxBookingsPerSlot - currentBookings };
            }
        }

        // Funzione per aggiornare l'indicatore di disponibilit√†
        function updateAvailability() {
            const availabilityDiv = document.getElementById('availabilityIndicator');
            const availability = checkAvailability();
            
            if (availability) {
                availabilityDiv.className = `availability-indicator ${availability.status}`;
                
                switch (availability.status) {
                    case 'available':
                        availabilityDiv.textContent = `‚úì Disponibile (${availability.remaining} posti liberi)`;
                        break;
                    case 'limited':
                        availabilityDiv.textContent = `‚ö† Ultimi ${availability.remaining} posti disponibili`;
                        break;
                    case 'unavailable':
                        availabilityDiv.textContent = '‚úó Non disponibile per questo orario';
                        break;
                }
            } else {
                availabilityDiv.textContent = '';
                availabilityDiv.className = 'availability-indicator';
            }
        }

        // Funzione per effettuare la prenotazione
        function bookSelectedService() {
            if (!selectedService) {
                alert('Seleziona prima un trattamento.');
                return;
            }
            
            const nameInput = document.getElementById('customerName');
            const phoneInput = document.getElementById('customerPhone');
            const dateInput = document.getElementById('bookingDate');
            const timeInput = document.getElementById('bookingTime');
            
            if (!dateInput.value || !timeInput.value || !nameInput.value || !phoneInput.value) {
                alert('Per favore, compila tutti i campi per procedere con la prenotazione.');
                return;
            }
            
            const availability = checkAvailability();
            
            if (!availability || availability.status === 'unavailable') {
                alert('Spiacenti, questo orario non √® pi√π disponibile. Seleziona un altro orario.');
                return;
            }
            
            // Aggiorna le prenotazioni
            const key = getBookingKey(selectedService.id, dateInput.value, timeInput.value);
            bookings[key] = (bookings[key] || 0) + 1;
            
            // Formatta la data
            const date = new Date(dateInput.value);
            const formattedDate = date.toLocaleDateString('it-IT', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // Crea il messaggio WhatsApp
            const message = `üå∏ *PRENOTAZIONE CHIARA BEAUTY BOUTIQUE* üå∏

üë§ *Nome:* ${nameInput.value}
üì± *Telefono:* ${phoneInput.value}

üíÜ‚Äç‚ôÄÔ∏è *Trattamento:* ${selectedService.title}
üìÖ *Data:* ${formattedDate}
üïê *Orario:* ${timeInput.value}
‚è± *Durata:* ${selectedService.duration} minuti
üí∞ *Prezzo:* ‚Ç¨${selectedService.price}

üìç *Centro Estetico:* Via Roma 133, Nard√≤ (Lecce)

Confermo la mia prenotazione per il trattamento selezionato. Grazie! ‚ú®`;
            
            // Apri WhatsApp con il messaggio
            const whatsappUrl = `https://wa.me/393001234567?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Aggiorna la disponibilit√†
            updateAvailability();
            
            // Reset del form
            document.getElementById('mainBookingForm').reset();
        }

        // Funzione per generare gli orari disponibili
        function generateTimeSlots() {
            const slots = [];
            for (let hour = 9; hour <= 19; hour++) {
                for (let minute = 0; minute < 60; minute += 30) {
                    if (hour === 19 && minute > 0) break; // Non oltre le 19:00
                    const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    slots.push(timeString);
                }
            }
            return slots;
        }

        // Funzione per ottenere la data minima (oggi)
        function getMinDate() {
            const today = new Date();
            return today.toISOString().split('T')[0];
        }

        // Funzione per generare le card dei servizi
        function generateServiceCards() {
            const container = document.getElementById('servicesGrid');
            const minDate = getMinDate();
            
            services.forEach(service => {
                const card = document.createElement('div');
                card.className = 'service-card';
                card.setAttribute('data-service-id', service.id);
                card.onclick = () => selectService(service.id);
                card.innerHTML = `
                    <h3 class="service-title">${service.title}</h3>
                    <p class="service-description">${service.description}</p>
                    <div class="service-details">
                        <span class="price">‚Ç¨${service.price}</span>
                        <span class="duration">${service.duration} minuti</span>
                    </div>
                    <div class="select-service-text">
                        üëÜ Clicca per selezionare
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Funzione per popolare gli orari
        function populateTimeSlots() {
            const timeSelect = document.getElementById('bookingTime');
            const timeSlots = generateTimeSlots();
            
            timeSlots.forEach(time => {
                const option = document.createElement('option');
                option.value = time;
                option.textContent = time;
                timeSelect.appendChild(option);
            });
        }

        // Inizializza la pagina
        document.addEventListener('DOMContentLoaded', function() {
            generateServiceCards();
            populateTimeSlots();
            
            // Imposta data minima
            document.getElementById('bookingDate').min = getMinDate();
        });
    </script>
</body>
</html>